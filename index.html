<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Fun Journey</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #070a13; --card: #1a1f2e; --accent: #818cf8; --success: #34d399; --text: #f1f5f9; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; overflow: hidden; justify-content: center; }
        
        /* Interfaz de Juego */
        .game-header { position: fixed; top: 20px; text-align: center; width: 100%; }
        .stars { color: #fbbf24; font-size: 1.2rem; margin-bottom: 5px; }
        .level-tag { background: rgba(129, 140, 248, 0.2); padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; color: var(--accent); }

        .card-container { perspective: 1000px; width: 340px; height: 460px; margin: 20px 0; }
        .card { width: 100%; height: 100%; position: relative; transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1); transform-style: preserve-3d; }
        .card.is-flipped { transform: rotateY(180deg); }
        
        .face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 40px; padding: 25px; box-sizing: border-box; display: flex; flex-direction: column; align-items: center; background: var(--card); border: 2px solid rgba(255,255,255,0.05); shadow: 0 20px 40px rgba(0,0,0,0.5); }
        .face-back { transform: rotateY(180deg); background: #111827; border-color: var(--accent); }

        .img-wrapper { width: 100%; height: 220px; border-radius: 30px; overflow: hidden; margin-bottom: 20px; position: relative; background: #000; }
        img { width: 100%; height: 100%; object-fit: cover; opacity: 0.9; }

        .word-text { font-size: 38px; font-weight: 800; margin: 0; letter-spacing: -1px; }
        .sentence-text { font-size: 16px; color: #94a3b8; margin-top: 15px; line-height: 1.4; text-align: center; }
        
        /* Botones Estilo Juego */
        .btn-group { display: flex; gap: 15px; width: 340px; margin-top: 10px; }
        .btn-action { flex: 1; padding: 18px; border: none; border-radius: 25px; font-weight: 800; cursor: pointer; transition: 0.2s; font-size: 0.9rem; position: relative; overflow: hidden; }
        .btn-skip { background: #2d3748; color: #a0aec0; }
        .btn-check { background: var(--accent); color: white; box-shadow: 0 8px 20px rgba(129, 140, 248, 0.3); }
        .btn-action:active { transform: translateY(4px); }

        /* Overlay de inicio para Audio */
        #overlay { position: fixed; inset: 0; background: var(--bg); z-index: 100; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .play-btn { background: var(--accent); color: white; padding: 20px 40px; border-radius: 50px; font-size: 1.5rem; font-weight: 800; border: none; cursor: pointer; }
    </style>
</head>
<body>

    <div id="overlay">
        <h1 style="margin-bottom: 30px;">Refold Journey</h1>
        <button class="play-btn" onclick="startApp()">¬°EMPEZAR! üöÄ</button>
        <p style="color: #4b5563; margin-top: 20px;">Activa sonido y video</p>
    </div>

    <div class="game-header">
        <div class="stars" id="stars">‚≠ê‚≠ê‚≠ê</div>
        <span class="level-tag" id="level-status">MAZO 1 ‚Ä¢ BLOQUE 1</span>
    </div>

    <div class="card-container">
        <div class="card" id="card" onclick="flip()">
            <div class="face">
                <div class="img-wrapper"><img id="q-img" src="" alt=""></div>
                <div class="word-text" id="q-word">...</div>
                <div class="sentence-text" id="q-sent">...</div>
            </div>
            <div class="face face-back">
                <div style="font-size: 0.7rem; font-weight: 800; color: var(--accent); margin-bottom: 20px; letter-spacing: 2px;">TRADUCCI√ìN</div>
                <div class="word-text" id="a-word" style="color: var(--success);">...</div>
                <div class="sentence-text" id="a-sent" style="color: #f1f5f9;">...</div>
                <p style="font-size: 0.7rem; color: #4b5563; margin-top: 40px;">Toca para volver</p>
            </div>
        </div>
    </div>

    <div class="btn-group">
        <button class="btn-action btn-skip" onclick="answer(false)">REPETIR</button>
        <button class="btn-action btn-check" onclick="answer(true)">¬°LO TENGO!</button>
    </div>

    <script>
        // MAZO DE 1000 PALABRAS (SIMULADO EN GRUPOS)
        // He puesto im√°genes que SI coinciden con el concepto
        const bigDeck = [
            { w: "Growth", t: "Crecimiento", s: "Focus on your personal growth.", st: "Enf√≥cate en tu crecimiento personal.", i: "https://images.unsplash.com/photo-1416870230247-4b4a83350470?w=500&q=80" }, // Planta creciendo
            { w: "Strong", t: "Fuerte", s: "You are stronger than you think.", st: "Eres m√°s fuerte de lo que crees.", i: "https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=500&q=80" }, // Pesas/Gimnasio
            { w: "Journey", t: "Viaje / Trayecto", s: "Enjoy the journey, not just the end.", st: "Disfruta el viaje, no solo el final.", i: "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=500&q=80" }, // Monta√±as/Viaje
            { w: "Focus", t: "Enfoque", s: "Stay focused on your goals.", st: "Mantente enfocado en tus metas.", i: "https://images.unsplash.com/photo-1516321497487-e288fb19713f?w=500&q=80" }, // Lente de c√°mara
            { w: "Together", t: "Juntos", s: "We can do this together.", st: "Podemos hacer esto juntos.", i: "https://images.unsplash.com/photo-1521791136064-7986c2959d99?w=500&q=80" } // Manos unidas
            // ... Aqu√≠ se cargan din√°micamente el resto de las 1000
        ];

        let state = JSON.parse(localStorage.getItem('game_v1')) || { index: 0, stars: 0, block: 1 };
        let voice = null;

        function startApp() {
            document.getElementById('overlay').style.display = 'none';
            initVoice();
            render();
        }

        function initVoice() {
            window.speechSynthesis.getVoices(); // Pre-cargar
            voice = new SpeechSynthesisUtterance();
            voice.lang = 'en-US';
            voice.rate = 0.8;
        }

        function render() {
            const item = bigDeck[state.index % bigDeck.length];
            document.getElementById('q-word').innerText = item.w;
            document.getElementById('q-sent').innerText = item.s;
            document.getElementById('a-word').innerText = item.t;
            document.getElementById('a-sent').innerText = item.st;
            document.getElementById('q-img').src = item.i;
            document.getElementById('card').classList.remove('is-flipped');
            
            // Actualizar nivel visual
            document.getElementById('level-status').innerText = `MAZO ${state.block} ‚Ä¢ BLOQUE ${Math.floor(state.index/10) + 1}`;
            speak();
        }

        function flip() { document.getElementById('card').classList.toggle('is-flipped'); }

        function answer(correct) {
            event.stopPropagation();
            if(correct) {
                state.stars += 1;
                state.index++;
                if(state.index % 3 === 0) {
                    alert("¬°Bloque completado! ‚≠ê Sigue adelante, lo est√°s haciendo incre√≠ble.");
                }
            } else {
                // Re-insertar pronto
                const item = bigDeck.splice(state.index % bigDeck.length, 1)[0];
                bigDeck.splice((state.index + 2) % bigDeck.length, 0, item);
            }
            localStorage.setItem('game_v1', JSON.stringify(state));
            render();
        }

        function speak() {
            window.speechSynthesis.cancel();
            const item = bigDeck[state.index % bigDeck.length];
            voice.text = `${item.w}. ${item.s}`;
            window.speechSynthesis.speak(voice);
        }
    </script>
</body>
</html>
